jQuery.fn.lightweightScrollTo=function(t){t=jQuery.extend({offset:0,duration:1e3,updateUrl:!0},t),this.on("click",function(e){console.log("click");var r=jQuery(this).attr("href"),o=jQuery(r);o.length&&(e.preventDefault(),jQuery("html, body").animate({scrollTop:o.offset().top-t.offset},t.duration,function(){t.updateUrl&&(window.location.hash=r)}))})},jQuery(document).ready(function(t){function e(){var e=Math.ceil(2*n/o),r=s>i?1.1/Math.sin(Math.PI/2-s*Math.PI/180):1.1/Math.sin(Math.PI/2-i*Math.PI/180),a=Math.ceil(2*n*r),l=Math.ceil(a/o),d=n-a/2,c=(e-l)/2;t(".cd-background-wrapper").css({height:e}),t(".cd-floating-background").addClass("is-absolute").css({left:d,top:c,width:a})}function r(e,r){var o=(-e.pageX+n)/n*s,l=e.pageY-r,d=(l-a)/a*i;o>s&&(o=s),o<-s&&(o=-s),d>i&&(d=i),d<-i&&(d=-i),t(".cd-floating-background").css({"-moz-transform":"rotateX("+d+"deg) rotateY("+o+"deg) translateZ(0)","-webkit-transform":"rotateX("+d+"deg) rotateY("+o+"deg) translateZ(0)","-ms-transform":"rotateX("+d+"deg) rotateY("+o+"deg) translateZ(0)","-o-transform":"rotateX("+d+"deg) rotateY("+o+"deg) translateZ(0)",transform:"rotateX("+d+"deg) rotateY("+o+"deg) translateZ(0)"})}var o,a=.5*t(window).height(),n=.5*t(window).width(),s=5,i=3;t(".cd-floating-background").find("img").eq(0).load(function(){o=t(this).width()/t(this).height(),t("html").hasClass("preserve-3d")&&e()}).each(function(){this.complete&&t(this).load()}),t(".cd-background-wrapper").each(function(){t(this).on("mousemove",function(e){var o=t(this).offset().top;t("html").hasClass("preserve-3d")&&window.requestAnimationFrame(function(){r(e,o)})})}),t(window).on("resize",function(){t("html").hasClass("preserve-3d")?window.requestAnimationFrame(function(){a=.5*t(window).height(),n=.5*t(window).width(),e()}):(t(".cd-background-wrapper").attr("style",""),t(".cd-floating-background").attr("style","").removeClass("is-absolute"))})}),function(){var t=document.createElement("p"),e=document.getElementsByTagName("html")[0],r=document.getElementsByTagName("body")[0],o={webkitTransformStyle:"-webkit-transform-style",MozTransformStyle:"-moz-transform-style",msTransformStyle:"-ms-transform-style",transformStyle:"transform-style"};r.insertBefore(t,null);for(var a in o)void 0!==t.style[a]&&(t.style[a]="preserve-3d");var n=window.getComputedStyle(t,null),s=n.getPropertyValue("-webkit-transform-style")||n.getPropertyValue("-moz-transform-style")||n.getPropertyValue("-ms-transform-style")||n.getPropertyValue("transform-style");e.className+="preserve-3d"!==s?" no-preserve-3d":" preserve-3d",document.body.removeChild(t)}();